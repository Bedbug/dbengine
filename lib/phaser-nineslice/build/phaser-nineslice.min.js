/*!
 * phaser-nineslice - version 1.1.3 
 * NineSlice plugin for Phaser.io!
 *
 * OrangeGames
 * Build at 06-09-2016
 * Released under MIT License 
 */

var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){var b=function(a){function b(b,c,d,e,f,g,h,i){a.call(this,b,c,d,e,f),this.baseTexture=this.texture.baseTexture,this.baseFrame=this.texture.frame,null===f||i?i||(i=b.cache.getNineSlice(e)):i=b.cache.getNineSlice(f),void 0!==i&&(this.topSize=i.top,i.left?this.leftSize=i.left:this.leftSize=this.topSize,i.right?this.rightSize=i.right:this.rightSize=this.leftSize,i.bottom?this.bottomSize=i.bottom:this.bottomSize=this.topSize,this.loadTexture(new Phaser.RenderTexture(this.game,this.localWidth,this.localHeight)),this.resize(g,h))}return __extends(b,a),b.prototype.renderTexture=function(){this.texture.resize(this.localWidth,this.localHeight,!0);for(var a=[0,this.leftSize,this.baseFrame.width-this.rightSize,this.baseFrame.width],b=[0,this.topSize,this.baseFrame.height-this.bottomSize,this.baseFrame.height],c=[0,this.leftSize,this.localWidth-this.rightSize,this.localWidth],d=[0,this.topSize,this.localHeight-this.bottomSize,this.localHeight],e=0;3>e;e++)for(var f=0;3>f;f++){var g=this.createTexturePart(a[f],b[e],a[f+1]-a[f],b[e+1]-b[e]);g.width=c[f+1]-c[f],g.height=d[e+1]-d[e],this.texture.renderXY(g,c[f],d[e])}},b.prototype.resize=function(a,b){this.localWidth=a,this.localHeight=b,this.renderTexture()},b.prototype.createTexturePart=function(a,b,c,d){var e=new PIXI.Rectangle(this.baseFrame.x+this.texture.frame.x+a,this.baseFrame.y+this.texture.frame.y+b,Math.max(c,1),Math.max(d,1));return new Phaser.Sprite(this.game,0,0,new PIXI.Texture(this.baseTexture,e))},b}(Phaser.Sprite);a.NineSlice=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(a,c){b.call(this,a,c),this.addNineSliceCache(),this.addNineSliceFactory(),this.addNineSliceLoader()}return __extends(c,b),c.prototype.addNineSliceLoader=function(){Phaser.Loader.prototype.nineSlice=function(a,b,c,d,e,f){var g={top:c};d&&(g.left=d),e&&(g.right=e),f&&(g.bottom=f),this.addToFileList("image",a,b),this.game.cache.addNineSlice(a,g)}},c.prototype.addNineSliceFactory=function(){Phaser.GameObjectFactory.prototype.nineSlice=function(b,c,d,e,f,g,h){void 0===h&&(h=this.world);var i=new a.NineSlice(this.game,b,c,d,e,f,g);return h.add(i)},Phaser.GameObjectCreator.prototype.nineSlice=function(b,c,d,e,f,g){return new a.NineSlice(this.game,b,c,d,e,f,g)}},c.prototype.addNineSliceCache=function(){Phaser.Cache.prototype.nineSlice={},Phaser.Cache.prototype.addNineSlice=function(a,b){this.nineSlice[a]=b},Phaser.Cache.prototype.getNineSlice=function(a){var b=this.nineSlice[a];return b}},c}(Phaser.Plugin);b.NineSlice=c}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={}));